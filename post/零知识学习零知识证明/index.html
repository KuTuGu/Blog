<!doctype html><html lang=en><head><title>零知识学习零知识证明 :: KuTuGu's Blog</title><link href=https://embed.cryptostamping.org/widgets.css rel=stylesheet><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=" "><meta name=keywords content="零知识证明"><meta name=robots content="noodp"><link rel=canonical href=../../post/%E9%9B%B6%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/><link rel=stylesheet href=../../assets/style.css><link rel=stylesheet id=themeColor href=../../assets/orange.css><link rel=apple-touch-icon href=../../img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=../../img/favicon/icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="零知识学习零知识证明"><meta property="og:description" content=" "><meta property="og:url" content="/post/%E9%9B%B6%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/"><meta property="og:site_name" content="KuTuGu's Blog"><meta property="og:image" content="/img/favicon/icon.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2021-07-03 08:57:49 +0800 +0800"></head><body><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=../../><div class=logo>Main</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=../../about>About</a></li><li><a href=https://github.com/KuTuGu>Github</a></li><li><a href=../../resume_en>Resume_en</a></li><li><a href=../../resume_zh>Resume_zh</a></li><li><a href=https://twitter.com/kutugu1>Twitter</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=../../about>About</a></li><li><a href=https://github.com/KuTuGu>Github</a></li><li><a href=../../resume_en>Resume_en</a></li><li><a href=../../resume_zh>Resume_zh</a></li><li><a href=https://twitter.com/kutugu1>Twitter</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=../../post/%E9%9B%B6%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/>零知识学习零知识证明</a></h1><div class=post-meta><span class=post-date>2021-07-03</span>
<span class=post-author>:: KuTuGu</span></div><span class=post-tags>#<a href=../../tags/%E5%8C%BA%E5%9D%97%E9%93%BE/>区块链</a>&nbsp;</span><div class=post-content><div><h1 id=零知识学习零知识证明>零知识学习零知识证明<a href=#零知识学习零知识证明 class=hanchor arialabel=Anchor>&#8983;</a></h1><h2 id=杂谈>杂谈<a href=#杂谈 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Math is law !</p><p>数学真的太迷人了，虽然我不懂 ;)</p><p>水一篇小短文，总结下这两天的学习成果。</p><p>抛开数学、多项式不谈，零知识学习零知识证明。</p><h2 id=概念>概念<a href=#概念 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>首先，零知识证明大致可以概述为：Prover 向 Verifier 证明拥有某个数据，但证明的同时并不暴露这个数据具体是什么。</p><ul><li><p><a href=https://youtu.be/fOGdb1CTu5c>https://youtu.be/fOGdb1CTu5c</a> （介绍视频）</p></li><li><p><a href=https://mp.weixin.qq.com/s/ZIXOxidlYZExzDZuEdg8Yg>https://mp.weixin.qq.com/s/ZIXOxidlYZExzDZuEdg8Yg</a>（中文翻译）</p></li></ul><p>视频中科学家提到一个很有意思的点，为什么叫 零知识 而不是 零信息、零数据 ？</p><p>我的一个理解：因为在证明的过程中，Prover 需要向 Verifier 提供 部分数据 用于验证，最终 Verifier 得到一个信息：Prover 是 大概率 拥有这个完整数据的。</p><p>通过大量验证Verifier不断提高这个概率直到可信阈值，但在整个过程中所有的 Verifier 都无法拼凑出数据的完整体 —- 知识。</p><p>下面再通过一个经典的数独故事来理解这一概念：</p><ul><li><p><a href=https://medium.com/qed-it/the-incredible-machine-4d1270d7363a>https://medium.com/qed-it/the-incredible-machine-4d1270d7363a</a>（原文链接）</p></li><li><p><a href=https://zhuanlan.zhihu.com/p/34072069>https://zhuanlan.zhihu.com/p/34072069</a>（中文翻译）</p></li></ul><h2 id=零知识性>零知识性<a href=#零知识性 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>零知识证明有三种性质，完备性和可靠性不再赘述，我在理解零知识性时遇到了一个误区：地图三染色问题上的零知识证明，可能存在知识泄漏？理由如下：</p><p>Prover 需要向 Verifier 提供相邻两个地域的颜色，以便 Verifier 验证；</p><p><img src="https://images.mirror-media.xyz/publication-images/hq40z3y4EyQzYK1gMdlu9.png?height=344&amp;width=730" alt=" 图片来源：https://secbit.io/blog/2019/07/31/zero-knowledge-and-proof"></p><p>但是颜色一共只有三种，虽然第二次通过随机数更换了颜色，但如果 Verifier 第二次选择的地域和第一次存在交集，那么 Verifier 可以拿到前后两次颜色的映射；</p><p><img src="https://images.mirror-media.xyz/publication-images/H0hUTy0KBLwEsTF6x30iQ.png?height=331&amp;width=730" alt=图片来源：https://secbit.io/blog/2019/07/31/zero-knowledge-and-proof></p><pre tabindex=0><code>// 第一种映射
绿色 —&gt; 红色
A —&gt; 棕色
橙色 —&gt; B

// 第二种映射
绿色 —&gt; 红色
橙色 —&gt; 棕色
A —&gt; B
</code></pre><p>那 Verifier 是不是可以反推回去，拿到第一次 & 第二次的结果？</p><p><img src="https://images.mirror-media.xyz/publication-images/t399gL1TSnnbOSh-_JAhd.png?height=331&amp;width=730" alt=图片来源：https://secbit.io/blog/2019/07/31/zero-knowledge-and-proof></p><p>即第二次棕色的位置，对应第一次的橙色或A色。这样每次我们都有1 / 2的概率可以猜对，最终拿到所有结果。</p><p>这样是不是说明存在知识泄漏的风险？当然不是，我们可以通过以下三种方式来证明：</p><h3 id=证明1>证明1<a href=#证明1 class=hanchor arialabel=Anchor>&#8983;</a></h3><p>我们要知道虽然每次都有1 / 2的概率猜对，但整个计算的时间复杂度却是 O(2^n) 级别的，这是一个<a href=https://zh.wikipedia.org/wiki/P/NP%E9%97%AE%E9%A2%98>NP问题</a>。NP的具体介绍不在本文范围内，只需要知道它的计算时间很复杂。</p><p>所以 Verifier 基本是无法反推出来的。反过来讲，既然这个NP问题可以应用零知识证明，那通过NP的性质，我们可以得出零知识证明可以应用于所有的NP问题这一结论。</p><h3 id=证明2>证明2<a href=#证明2 class=hanchor arialabel=Anchor>&#8983;</a></h3><p>上面 Verifier 的反推过程，大家不觉得有点眼熟吗？这不就是地图三染色问题的 穷举 解法吗？和零知识证明、知识泄漏并无任何关系。</p><h3 id=证明3>证明3<a href=#证明3 class=hanchor arialabel=Anchor>&#8983;</a></h3><p>下面我们通过理论的角度，也可以验证上面的结论，参考<a href=https://blog.cryptographyengineering.com/2014/11/27/zero-knowledge-proofs-illustrated-primer/>文章</a>。</p><p>如果你没有看过上面数独的故事，我建议你先去阅读一遍。故事中提到了一个人为的作弊行为，下面我们用编程来替代人为交互：</p><p>我们想象一个这样的程序，假设一个由 Prover 完全操控的验证程序 （当然事实不可能是这样，只是为了模拟作弊），可以在任意节点 倒带回溯，修复该节点的错误，那么 Prover 完全可以通过操控这个验证程序来蒙混过关，欺骗 Verifier。</p><p>基于上述背景，我们再来思考两个场景：</p><ul><li>Prover 提供了标准答案给 Verifier 验证；</li><li>Prover 通过回溯欺骗 Verifier，通过验证。</li></ul><p>两个场景在 Verifier 的角度看有区别吗？没有，两种场景对于 Verifier 的结果都是正确通过验证。所以假设像误区所提到的那样，Verifier 有一种策略可以获取 Prover 的完整知识。但是在上述第二种场景中 Prover 根本就不知道完整知识(答案)，所以 Verifier 不会获取到任何知识。</p><p>而且既然两种场景在 Verifier 的视角并无区别，那么在第一种场景中 Verifier 也不应能获取任何知识。</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>阅读其它文章</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=../../post/%E6%B5%85%E8%B0%88%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%89%A9%E5%AE%B9/><span class=button__icon>←</span>
<span class=button__text>浅谈以太坊扩容</span></a></span>
<span class="button next"><a href=../../post/%E4%B8%80%E4%B8%AA%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E5%BC%95%E5%8F%91%E7%9A%84async%E5%8E%9F%E7%90%86%E6%8E%A2%E7%A9%B6/><span class=button__text>一个事件循环引发的Async原理探究</span>
<span class=button__icon>→</span></a></span></div></div><div id=cryptostamping_v1 data-view=list data-theme=dark></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2023 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div><div id=cryptostamping_v1 data-view=button data-theme=dark></div></footer><script src=../../assets/main.js></script>
<script src=../../assets/prism.js></script>
<script src=../../assets/colorful.js></script></div><script async src=https://embed.cryptostamping.org/widgets.js></script></body></html>